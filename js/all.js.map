{"version":3,"sources":["js/all.js"],"names":["place","document","getElementById","hotplace","querySelector","title","detail","str","zoneData","zoneStr","zoneLen","length","sort","i","innerHTML","addEventListener","filter","hotfilter","e","preventDefault","value","textContent","getData","target","nodeName","xhr","XMLHttpRequest","open","send","onload","a","JSON","parse","responseText","result","records","len","Zone","Picture1","Name","Opentime","Add","Tel","Ticketinfo"],"mappings":"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","file":"all.js","sourcesContent":["var place = document.getElementById('zone');\nvar hotplace = document.querySelector('.hotplace');\nvar title = document.querySelector('.place-name');\nvar detail = document.querySelector('.place-detail');\nvar str=\"\";\n\n//selector資料\nvar zoneData=[\"\",\"內門區\",\"大樹區\",\"小港區\",\"六龜區\",\"仁武區\",\"左營區\",\"田寮區\",\"永安區\",\"甲仙區\",\"鼓山區\",\"杉林區\",\"那瑪夏\",\"岡山區\",\"高雄市\",\"前鎮區\",\"茂林區\",\"茄萣區\",\"梓官區\",\"旗津區\",\"桃源區\",\"楠梓區\",\"前金區\",\"鳳山區\",\"美濃區\",\"苓雅區\",\"新興區\"];\nvar zoneStr=\"\";\nvar zoneLen=zoneData.length;\n    zoneData.sort();\n    for(let i = 0;i<zoneLen;i++){\n        if(i==0){\n            zoneStr='<option value=\"'+zoneData[i]+'\" disabled selected>- - 請選擇行政區- -</option>' \n        }\n        zoneStr+='<option value=\"'+zoneData[i]+'\">'+zoneData[i]+'</option>';\n    }\n        place.innerHTML=zoneStr;\n\n\n//監聽selector跟熱門景點按鈕\nplace.addEventListener('change',filter,false);\nhotplace.addEventListener('click',hotfilter,false);\n\n//selector事件\nfunction filter(e){\n    e.preventDefault();\n    str = place.value;\n    title.textContent=str;\n    detail.innerHTML=\"\";\n    getData();\n    \n}\n\n//熱門景點-按鈕事件\nfunction hotfilter(e){\n    e.preventDefault();\n    if(e.target.nodeName=='LI'){\n        str = e.target.textContent;\n        title.textContent=str;\n        detail.innerHTML=\"\";\n        getData();\n       \n    }   \n}\n\n//向伺服器要資料、readyState=4後顯示在網頁上\nfunction getData(){\n        var xhr =  new XMLHttpRequest();\n        xhr.open('get','https://data.kcg.gov.tw/api/action/datastore_search?resource_id=92290ee5-6e61-456f-80c0-249eae2fcc97',true);\n        xhr.send(null);\n        xhr.onload=function(){   //readyState=4後觸發\n            var a=JSON.parse(xhr.responseText);\n            a = a.result.records;//旅遊資訊包在層層物件裡面\n            var len = a.length;\n            for(let i = 0;i<len;i++){\n                if(a[i].Zone==str){\n                detail.innerHTML+='<li><img class=\"top\" src=\"'+a[i].Picture1+'\"><div class=\"top-text\"><div class=\"big\">'+a[i].Name+'</div><div class=\"small\">'+a[i].Zone+'</div></div></div><div class=\"bottom\"><div class=\"icon\"> <img src=\"images/clock.png\" alt=\"\"><span>'+a[i].Opentime+'</span></div><div class=\"icon\"><img src=\"images/pin.png\" alt=\"\"><span>'+a[i].Add+'</span></div><div class=\"icon\"><div class=\"phone\"><img src=\"images/phone.png\" alt=\"\"><span>'+a[i].Tel+'</span></div><div class=\"tag\"><img src=\"images/tag.png\" alt=\"\"><span>'+a[i].Ticketinfo+'</span></div></div></div></li>';\n            } \n        }\n    }\n}\n"]}